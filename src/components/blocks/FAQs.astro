---
import { PortableText } from "astro-portabletext";

const { _key, title, faqs } = Astro.props;
---

<section class="container mx-auto flex flex-col gap-8 py-16">
  {title && (
    <h2 class="text-xl mx-auto md:text-2xl lg:text-5xl font-semibold text-slate-800 text-pretty max-w-3xl">
      {title}
    </h2>
  )}

  {Array.isArray(faqs) && (
    <div class="max-w-2xl mx-auto border-b border-pink-200">
      {faqs.map((faq) => (
        <details
          class="group [&[open]]:bg-pink-50 transition-colors duration-100 px-4 border-t border-pink-200"
          name={_key}
        >
          <summary class="text-xl font-semibold text-slate-800 list-none cursor-pointer py-4 flex items-center justify-between">
            {faq.title}
            <span class="transform origin-center rotate-90 group-open:-rotate-90 transition-transform duration-200">
              &larr;
            </span>
          </summary>
          <div class="pb-4">
            {faq.body && <PortableText value={faq.body} />}
          </div>
        </details>
      ))}
    </div>
  )}
</section>