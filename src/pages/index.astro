---
import '../styles/global.css';
import type { SanityDocument } from "@sanity/client";
import { sanityClient } from "sanity:client";
import PageBuilder from "../components/blocks/PageBuilder.astro";

export const prerender = false;

const HOME_PAGE_QUERY = `*[_id == "siteSettings"][0]{
    homePage->{
      ...,
      content[]{
        ...,
        _type == "faqs" => {
          ...,
          faqs[]->
        }
      }      
    }
  }`

const page = await sanityClient.fetch<SanityDocument>(HOME_PAGE_QUERY);
---

{page?.homePage.content && <PageBuilder content={page.homePage.content} />}
